{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useSearchParams}from\"react-router-dom\";import{fetchSearch}from\"../redux/slices/moviesSlice\";import MovieCard from\"../components/MovieCard\";import Pagination from\"../components/Pagination\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchResult(){const dispatch=useDispatch();const[params,setParams]=useSearchParams();const query=params.get(\"query\")||\"\";const{items,page,total_pages,status,error}=useSelector(s=>s.movies.search);useEffect(()=>{if(query)dispatch(fetchSearch({query,page:1}));},[dispatch,query]);const onChange=p=>{dispatch(fetchSearch({query,page:p}));setParams({query});};if(!query)return/*#__PURE__*/_jsx(\"div\",{className:\"center\",children:\"Type something in the search bar.\"});if(status===\"loading\")return/*#__PURE__*/_jsx(\"div\",{className:\"center\",children:\"Searching\\u2026\"});if(status===\"failed\")return/*#__PURE__*/_jsx(\"div\",{className:\"center error\",children:error});return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Results for \\u201C\",query,\"\\u201D\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:items.map(m=>/*#__PURE__*/_jsx(MovieCard,{movie:m},m.id))}),items.length>0&&/*#__PURE__*/_jsx(Pagination,{page:page,totalPages:total_pages,onChange:onChange})]});}","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","useSearchParams","fetchSearch","MovieCard","Pagination","jsx","_jsx","jsxs","_jsxs","SearchResult","dispatch","params","setParams","query","get","items","page","total_pages","status","error","s","movies","search","onChange","p","className","children","map","m","movie","id","length","totalPages"],"sources":["E:/YASH/Projects/Movie_recom/src/pages/SearchResult.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { fetchSearch } from \"../redux/slices/moviesSlice\";\nimport MovieCard from \"../components/MovieCard\";\nimport Pagination from \"../components/Pagination\";\n\nexport default function SearchResult() {\n  const dispatch = useDispatch();\n  const [params, setParams] = useSearchParams();\n  const query = params.get(\"query\") || \"\";\n  const { items, page, total_pages, status, error } = useSelector(\n    (s) => s.movies.search\n  );\n\n  useEffect(() => {\n    if (query) dispatch(fetchSearch({ query, page: 1 }));\n  }, [dispatch, query]);\n\n  const onChange = (p) => {\n    dispatch(fetchSearch({ query, page: p }));\n    setParams({ query });\n  };\n\n  if (!query) return <div className=\"center\">Type something in the search bar.</div>;\n  if (status === \"loading\") return <div className=\"center\">Searching…</div>;\n  if (status === \"failed\") return <div className=\"center error\">{error}</div>;\n\n  return (\n    <section>\n      <h2>Results for “{query}”</h2>\n      <div className=\"grid\">\n        {items.map((m) => (\n          <MovieCard key={m.id} movie={m} />\n        ))}\n      </div>\n      {items.length > 0 && (\n        <Pagination page={page} totalPages={total_pages} onChange={onChange} />\n      )}\n    </section>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,eAAe,KAAQ,kBAAkB,CAClD,OAASC,WAAW,KAAQ,6BAA6B,CACzD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,cAAe,SAAS,CAAAC,YAAYA,CAAA,CAAG,CACrC,KAAM,CAAAC,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACY,MAAM,CAAEC,SAAS,CAAC,CAAGX,eAAe,CAAC,CAAC,CAC7C,KAAM,CAAAY,KAAK,CAAGF,MAAM,CAACG,GAAG,CAAC,OAAO,CAAC,EAAI,EAAE,CACvC,KAAM,CAAEC,KAAK,CAAEC,IAAI,CAAEC,WAAW,CAAEC,MAAM,CAAEC,KAAM,CAAC,CAAGnB,WAAW,CAC5DoB,CAAC,EAAKA,CAAC,CAACC,MAAM,CAACC,MAClB,CAAC,CAEDxB,SAAS,CAAC,IAAM,CACd,GAAIe,KAAK,CAAEH,QAAQ,CAACR,WAAW,CAAC,CAAEW,KAAK,CAAEG,IAAI,CAAE,CAAE,CAAC,CAAC,CAAC,CACtD,CAAC,CAAE,CAACN,QAAQ,CAAEG,KAAK,CAAC,CAAC,CAErB,KAAM,CAAAU,QAAQ,CAAIC,CAAC,EAAK,CACtBd,QAAQ,CAACR,WAAW,CAAC,CAAEW,KAAK,CAAEG,IAAI,CAAEQ,CAAE,CAAC,CAAC,CAAC,CACzCZ,SAAS,CAAC,CAAEC,KAAM,CAAC,CAAC,CACtB,CAAC,CAED,GAAI,CAACA,KAAK,CAAE,mBAAOP,IAAA,QAAKmB,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAC,mCAAiC,CAAK,CAAC,CAClF,GAAIR,MAAM,GAAK,SAAS,CAAE,mBAAOZ,IAAA,QAAKmB,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAC,iBAAU,CAAK,CAAC,CACzE,GAAIR,MAAM,GAAK,QAAQ,CAAE,mBAAOZ,IAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEP,KAAK,CAAM,CAAC,CAE3E,mBACEX,KAAA,YAAAkB,QAAA,eACElB,KAAA,OAAAkB,QAAA,EAAI,oBAAa,CAACb,KAAK,CAAC,QAAC,EAAI,CAAC,cAC9BP,IAAA,QAAKmB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAClBX,KAAK,CAACY,GAAG,CAAEC,CAAC,eACXtB,IAAA,CAACH,SAAS,EAAY0B,KAAK,CAAED,CAAE,EAAfA,CAAC,CAACE,EAAe,CAClC,CAAC,CACC,CAAC,CACLf,KAAK,CAACgB,MAAM,CAAG,CAAC,eACfzB,IAAA,CAACF,UAAU,EAACY,IAAI,CAAEA,IAAK,CAACgB,UAAU,CAAEf,WAAY,CAACM,QAAQ,CAAEA,QAAS,CAAE,CACvE,EACM,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}