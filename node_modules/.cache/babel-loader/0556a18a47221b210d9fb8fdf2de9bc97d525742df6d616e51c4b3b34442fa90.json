{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useParams}from\"react-router-dom\";import{IMG_BASE}from\"../api/movieApi\";import{fetchMovieDetail,fetchMovieCredits}from\"../redux/slices/moviesSlice\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MovieDetail(){var _item$vote_average,_item$genres;const{id}=useParams();const dispatch=useDispatch();const{item,status,error}=useSelector(s=>s.movies.detail);const credits=useSelector(s=>s.movies.credits);useEffect(()=>{dispatch(fetchMovieDetail(id));dispatch(fetchMovieCredits(id));},[dispatch,id]);if(status===\"loading\")return/*#__PURE__*/_jsx(\"div\",{className:\"center\",children:\"Loading movie\\u2026\"});if(status===\"failed\")return/*#__PURE__*/_jsx(\"div\",{className:\"center error\",children:error});if(!item)return null;const poster=item.poster_path?IMG_BASE+item.poster_path:\"\";const bg=item.backdrop_path?IMG_BASE+item.backdrop_path:\"\";return/*#__PURE__*/_jsxs(\"section\",{className:\"detail\",children:[bg&&/*#__PURE__*/_jsx(\"div\",{className:\"backdrop\",style:{backgroundImage:\"url(\".concat(bg,\")\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-body\",children:[poster&&/*#__PURE__*/_jsx(\"img\",{className:\"poster\",src:poster,alt:item.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:item.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"meta\",children:[\"\\u2B50 \",(_item$vote_average=item.vote_average)===null||_item$vote_average===void 0?void 0:_item$vote_average.toFixed(1),\" \\u2022 \",item.runtime,\" min \\u2022 \",item.release_date]}),/*#__PURE__*/_jsx(\"p\",{children:item.overview}),/*#__PURE__*/_jsx(\"div\",{className:\"genres\",children:(_item$genres=item.genres)===null||_item$genres===void 0?void 0:_item$genres.map(g=>/*#__PURE__*/_jsx(\"span\",{className:\"chip\",children:g.name},g.id))}),/*#__PURE__*/_jsx(\"h3\",{children:\"Cast\"}),credits.status===\"loading\"?/*#__PURE__*/_jsx(\"div\",{children:\"Loading cast\\u2026\"}):/*#__PURE__*/_jsx(\"div\",{className:\"cast-strip\",children:credits.cast.slice(0,15).map(c=>/*#__PURE__*/_jsxs(\"div\",{className:\"cast-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:c.profile_path?IMG_BASE+c.profile_path:\"https://via.placeholder.com/200x300?text=No+Image\",alt:c.name,loading:\"lazy\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cast-meta\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cast-name\",children:c.name}),/*#__PURE__*/_jsx(\"div\",{className:\"cast-character\",children:c.character})]})]},c.cast_id||c.credit_id))})]})]})]});}","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","useParams","IMG_BASE","fetchMovieDetail","fetchMovieCredits","jsx","_jsx","jsxs","_jsxs","MovieDetail","_item$vote_average","_item$genres","id","dispatch","item","status","error","s","movies","detail","credits","className","children","poster","poster_path","bg","backdrop_path","style","backgroundImage","concat","src","alt","title","vote_average","toFixed","runtime","release_date","overview","genres","map","g","name","cast","slice","c","profile_path","loading","character","cast_id","credit_id"],"sources":["E:/YASH/Projects/Movie_recom/src/pages/MovieDetail.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { IMG_BASE } from \"../api/movieApi\";\nimport { fetchMovieDetail, fetchMovieCredits } from \"../redux/slices/moviesSlice\";\n\nexport default function MovieDetail() {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const { item, status, error } = useSelector((s) => s.movies.detail);\n  const credits = useSelector((s) => s.movies.credits);\n\n  useEffect(() => {\n    dispatch(fetchMovieDetail(id));\n    dispatch(fetchMovieCredits(id));\n  }, [dispatch, id]);\n\n  if (status === \"loading\") return <div className=\"center\">Loading movie…</div>;\n  if (status === \"failed\") return <div className=\"center error\">{error}</div>;\n  if (!item) return null;\n\n  const poster = item.poster_path ? IMG_BASE + item.poster_path : \"\";\n  const bg = item.backdrop_path ? IMG_BASE + item.backdrop_path : \"\";\n\n  return (\n    <section className=\"detail\">\n      {bg && <div className=\"backdrop\" style={{ backgroundImage: `url(${bg})` }} />}\n      <div className=\"detail-body\">\n        {poster && <img className=\"poster\" src={poster} alt={item.title} />}\n        <div className=\"info\">\n          <h2>{item.title}</h2>\n          <p className=\"meta\">\n            ⭐ {item.vote_average?.toFixed(1)} • {item.runtime} min • {item.release_date}\n          </p>\n          <p>{item.overview}</p>\n          <div className=\"genres\">\n            {item.genres?.map((g) => (\n              <span className=\"chip\" key={g.id}>{g.name}</span>\n            ))}\n          </div>\n          <h3>Cast</h3>\n          {credits.status === \"loading\" ? (\n            <div>Loading cast…</div>\n          ) : (\n            <div className=\"cast-strip\">\n              {credits.cast.slice(0, 15).map((c) => (\n                <div className=\"cast-card\" key={c.cast_id || c.credit_id}>\n                  <img\n                    src={c.profile_path ? IMG_BASE + c.profile_path : \"https://via.placeholder.com/200x300?text=No+Image\"}\n                    alt={c.name}\n                    loading=\"lazy\"\n                  />\n                  <div className=\"cast-meta\">\n                    <div className=\"cast-name\">{c.name}</div>\n                    <div className=\"cast-character\">{c.character}</div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </section>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,OAASC,gBAAgB,CAAEC,iBAAiB,KAAQ,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElF,cAAe,SAAS,CAAAC,WAAWA,CAAA,CAAG,KAAAC,kBAAA,CAAAC,YAAA,CACpC,KAAM,CAAEC,EAAG,CAAC,CAAGX,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAY,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEe,IAAI,CAAEC,MAAM,CAAEC,KAAM,CAAC,CAAGhB,WAAW,CAAEiB,CAAC,EAAKA,CAAC,CAACC,MAAM,CAACC,MAAM,CAAC,CACnE,KAAM,CAAAC,OAAO,CAAGpB,WAAW,CAAEiB,CAAC,EAAKA,CAAC,CAACC,MAAM,CAACE,OAAO,CAAC,CAEpDtB,SAAS,CAAC,IAAM,CACde,QAAQ,CAACV,gBAAgB,CAACS,EAAE,CAAC,CAAC,CAC9BC,QAAQ,CAACT,iBAAiB,CAACQ,EAAE,CAAC,CAAC,CACjC,CAAC,CAAE,CAACC,QAAQ,CAAED,EAAE,CAAC,CAAC,CAElB,GAAIG,MAAM,GAAK,SAAS,CAAE,mBAAOT,IAAA,QAAKe,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAC,qBAAc,CAAK,CAAC,CAC7E,GAAIP,MAAM,GAAK,QAAQ,CAAE,mBAAOT,IAAA,QAAKe,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEN,KAAK,CAAM,CAAC,CAC3E,GAAI,CAACF,IAAI,CAAE,MAAO,KAAI,CAEtB,KAAM,CAAAS,MAAM,CAAGT,IAAI,CAACU,WAAW,CAAGtB,QAAQ,CAAGY,IAAI,CAACU,WAAW,CAAG,EAAE,CAClE,KAAM,CAAAC,EAAE,CAAGX,IAAI,CAACY,aAAa,CAAGxB,QAAQ,CAAGY,IAAI,CAACY,aAAa,CAAG,EAAE,CAElE,mBACElB,KAAA,YAASa,SAAS,CAAC,QAAQ,CAAAC,QAAA,EACxBG,EAAE,eAAInB,IAAA,QAAKe,SAAS,CAAC,UAAU,CAACM,KAAK,CAAE,CAAEC,eAAe,QAAAC,MAAA,CAASJ,EAAE,KAAI,CAAE,CAAE,CAAC,cAC7EjB,KAAA,QAAKa,SAAS,CAAC,aAAa,CAAAC,QAAA,EACzBC,MAAM,eAAIjB,IAAA,QAAKe,SAAS,CAAC,QAAQ,CAACS,GAAG,CAAEP,MAAO,CAACQ,GAAG,CAAEjB,IAAI,CAACkB,KAAM,CAAE,CAAC,cACnExB,KAAA,QAAKa,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBhB,IAAA,OAAAgB,QAAA,CAAKR,IAAI,CAACkB,KAAK,CAAK,CAAC,cACrBxB,KAAA,MAAGa,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAC,SAChB,EAAAZ,kBAAA,CAACI,IAAI,CAACmB,YAAY,UAAAvB,kBAAA,iBAAjBA,kBAAA,CAAmBwB,OAAO,CAAC,CAAC,CAAC,CAAC,UAAG,CAACpB,IAAI,CAACqB,OAAO,CAAC,cAAO,CAACrB,IAAI,CAACsB,YAAY,EAC1E,CAAC,cACJ9B,IAAA,MAAAgB,QAAA,CAAIR,IAAI,CAACuB,QAAQ,CAAI,CAAC,cACtB/B,IAAA,QAAKe,SAAS,CAAC,QAAQ,CAAAC,QAAA,EAAAX,YAAA,CACpBG,IAAI,CAACwB,MAAM,UAAA3B,YAAA,iBAAXA,YAAA,CAAa4B,GAAG,CAAEC,CAAC,eAClBlC,IAAA,SAAMe,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAakB,CAAC,CAACC,IAAI,EAAbD,CAAC,CAAC5B,EAAkB,CACjD,CAAC,CACC,CAAC,cACNN,IAAA,OAAAgB,QAAA,CAAI,MAAI,CAAI,CAAC,CACZF,OAAO,CAACL,MAAM,GAAK,SAAS,cAC3BT,IAAA,QAAAgB,QAAA,CAAK,oBAAa,CAAK,CAAC,cAExBhB,IAAA,QAAKe,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBF,OAAO,CAACsB,IAAI,CAACC,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAACJ,GAAG,CAAEK,CAAC,eAC/BpC,KAAA,QAAKa,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhB,IAAA,QACEwB,GAAG,CAAEc,CAAC,CAACC,YAAY,CAAG3C,QAAQ,CAAG0C,CAAC,CAACC,YAAY,CAAG,mDAAoD,CACtGd,GAAG,CAAEa,CAAC,CAACH,IAAK,CACZK,OAAO,CAAC,MAAM,CACf,CAAC,cACFtC,KAAA,QAAKa,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhB,IAAA,QAAKe,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEsB,CAAC,CAACH,IAAI,CAAM,CAAC,cACzCnC,IAAA,QAAKe,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAEsB,CAAC,CAACG,SAAS,CAAM,CAAC,EAChD,CAAC,GATwBH,CAAC,CAACI,OAAO,EAAIJ,CAAC,CAACK,SAU1C,CACN,CAAC,CACC,CACN,EACE,CAAC,EACH,CAAC,EACC,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}